/*!
 * tapShow 1.0.0
 * https://github.com/DxEDesign/tapShow.js
 * @license MIT licensed
 *
 * Copyright (C) 2017 DxE Design
 **/
!function(){function t(){var t=c[r]("DIV");return t.className="btn-close",t.innerHTML="&#215;",t.style.cssText="display:none;position:absolute;top:0;right:15px;font-size:40px;",t}function e(t,e){var n=t+e;return"-webkit-"+n+n}function n(t,e){return void 0!==t?t:e}function o(t){return"top"===t||"left"===t?"flex-start":"bottom"===t||"right"===t?"flex-end":"center"}function i(t){return"vertical"===t?"column":"row"}function l(t,e,n){var o=1;!function i(){if(t.style.opacity=o,(o-=1/(60*e/1e3))<=0)return t.style.opacity=0,t.style.display="none",void(n&&n());requestAnimationFrame(i)}()}function s(t,e,n,o){var i=0;t.style.display=e,function e(){if(t.style.opacity=i,(i+=1/(60*n/1e3))>=1)return t.style.opacity=1,void(o&&o());requestAnimationFrame(e)}()}var c=document,r="createElement";window.tapShow=function(d){var a=n(d.containerWidth,"100%"),u=i(d.direction),y=o(d.blockPosition),f=n(d.textAlign,"center"),h=n(d.blockSelector,".block"),b=n(d.displayOne,!1),p=n(d.animateDuration,1200),x=n(d.fadeDuration,250),g=n(d.expandWidth,"100%"),S=n(d.expandHeight,"auto"),k=n(d.outerContentSelector,".outer-content"),T=n(d.innerContentSelector,".inner-content"),m=n(d.blockWidth,"250px"),w=n(d.blockHeight,"auto"),q=n(d.blockPadding,"20px"),v=n(d.blockMargin,"10px"),C=n(d.background,"#fff"),L=n(d.borderWidth,"1px"),E=n(d.borderColor,"#000"),A=o(d.contentAlignH),B=o(d.contentAlignV),D=n(d.allowCloseBtn,!0),H=n(d.customCSS,void 0),V=c.querySelector(d.target),I=c.querySelectorAll(d.target+">"+h),M=Array.from(I),W={build:function(){I=c.querySelectorAll(d.target+">"+h);for(let n=0;n<I.length;n++){let o=I[n],i=o.querySelector(k),c=o.querySelector(T);c.style.display="none",i.style.display="block",V.style["text-align"]=f,V.style.width=a,V.style.display="flex",V.style["flex-wrap"]="wrap",V.style["flex-direction"]=u,V.style["justify-content"]=y,V.style["align-items"]=y,o.style.cssText="display:flex;",o.style.cssText+="position:relative;",o.style.cssText+="box-sizing:border-box;",o.style.cssText+="cursor:pointer;",o.style.cssText+="overflow:hidden;",o.style.cssText+="justify-content:"+A+";",o.style.cssText+="align-items:"+B+";",o.style.cssText+="background:"+C+";",o.style.cssText+="border:"+L+" solid "+E+";",o.style.cssText+="padding:"+q+";",o.style.cssText+="width:"+m+";",o.style.cssText+="height:"+w+";",o.style.cssText+="margin:"+v+";",o.style.cssText+=e("transition:","width "+p+"ms ease;");let r;D&&(o.insertBefore(t(),o.firstChild),r=o.querySelector(".btn-close")),o.onclick=function(t){o.classList.contains("binded")||(d.showStart&&d.showStart(),b&&M.forEach(function(t){t!==o&&l(t,x)}),l(i,x,function(){s(c,"block",x,function(){d.showEnd&&d.showEnd()}),D&&s(r,"block",x)}),o.classList.add("binded"),o.style.width=g,o.style.height=S,setTimeout(function(){d.blockExpand&&d.blockExpand()},p))},D&&(r.onclick=function(){o.classList.contains("binded")&&(d.hideStart&&d.hideStart(),l(r,x),l(c,x,function(){s(i,"block",x,function(){d.hideEnd&&d.hideEnd()})}),o.style.width=m,setTimeout(function(){d.blockCollapse&&d.blockCollapse(),o.style.height=w,o.classList.remove("binded"),b&&M.forEach(function(t){t!==o&&s(t,"flex",x)})},p))})}if(void 0!==typeof H&&"object"==typeof H)for(var n in H){let t=V.querySelector(n);null!==t&&(t.style.cssText+=H[n])}},destroy:function(){for(let t=0;t<I.length;t++){let e=I[t],n=e.querySelector(k),o=e.querySelector(T),i=e.querySelector(".btn-close");e.style.cssText="",n.style.cssText="",o.style.cssText="",i&&e.removeChild(i),e.classList.remove("binded"),e.onclick=null}V.style.cssText=""},rebuild:function(){this.destroy(),this.build()},alignLeft:function(){y="flex-start",this.rebuild()},alignCenter:function(){y="center",this.rebuild()},alignRight:function(){y="flex-end",this.rebuild()},expandBlock:function(t){let e=[];e=void 0!==t&&t?V.querySelectorAll(t):I;for(let t=0;t<e.length;t++){let n=e[t],o=n.querySelector(k),i=n.querySelector(T),c=n.querySelector(".btn-close");n.classList.contains("binded")||(d.showStart&&d.showStart(),setTimeout(function(){l(o,x,function(){s(i,"block",x,function(){d.showEnd&&d.showEnd()}),D&&s(c,"block",x)})},150),n.classList.add("binded"),n.style.width=g,n.style.height=S,setTimeout(function(){d.blockExpand&&d.blockExpand()},p))}},collapseBlock:function(t){let e=[];e=void 0!==t&&t?V.querySelectorAll(t):I;for(let t=0;t<e.length;t++){let n=e[t],o=n.querySelector(k),i=n.querySelector(T),c=n.querySelector(".btn-close");n.classList.contains("binded")&&(d.hideStart&&d.hideStart(),setTimeout(function(){l(i,x,function(){s(o,"block",x,function(){d.hideEnd&&d.hideEnd()})}),D&&l(c,x)},100),n.style.width=m,n.style.height=w,setTimeout(function(){d.blockCollapse&&d.blockCollapse(),n.classList.remove("binded")},p))}},addBlock:function(t){let e=c[r]("DIV"),n=c[r]("DIV"),o=c[r]("DIV");e.classList.add("block"),n.classList.add("outer-content"),o.classList.add("inner-content"),n.innerHTML=t.outerContent,o.innerHTML=t.innerContent,e.appendChild(n),e.appendChild(o),V.appendChild(e),this.rebuild()},removeBlock:function(t){let e;0!==(I=c.querySelectorAll(d.target+">"+h)).length&&(e=t?c.querySelector(d.target+">"+t.target):c.querySelector(d.target+">"+h+":last-child"),V.removeChild(e))}};return W.build(),W}}();